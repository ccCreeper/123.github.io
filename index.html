<!DOCTYPE html>
<html>
<head>
    <title>事件时间线</title>
    <style>
        .timeline-item {
            margin-bottom: 10px;
            cursor: pointer;
        }

        .timeline-content {
            display: inline-block;
            margin-right: 10px;
        }

        .timeline-text {
            display: none;
        }
    </style>
</head>
<body>
    <h1>三国重要情节梳理</h1>
    <div id="timeline"></div>
    <form id="eventForm">
        <label for="date">日期:</label><br>
        <input type="text" id="date" name="date"><br>
        <label for="description">描述:</label><br>
        <input type="text" id="description" name="description"><br>
        <label for="text">文本:</label><br>
        <input type="text" id="text" name="text"><br>
        <input type="submit" value="添加事件">
    </form>
    <script>
        var events = [
            { date: '184年', description: '桃园三结义', text: '汉朝末年，黄士倡乱。幽州太守刘焉发榜招军，榜至涿县，为刘备所见，叹息之余，偶遇屠户张飞，张飞见刘备出生不俗，便约其至村店饮酒，期间又遇因杀恶霸而逃难的关羽，三人志趣相投，次日便于桃园处结义，相约共谋大事。玄德为兄，关羽次之，张飞为弟。' },
            { date: '188年', description: '怒鞭督邮', text: '刘备平定黄巾有功被封为安喜县尉。督邮前来巡查,刘备因没向督邮送钱而遭督邮陷害。张飞得知后气得两眼圆睁，咬碎钢牙，冲进馆驿揪住督邮的头发，扯到县衙前，绑在马桩上，用柳条使劲抽打，一连打断十几根柳条。后为刘备制止，三兄弟弃官投奔刘恢。' },
            { date: '190年', description: '三英战吕布', text: '董卓听说华雄被杀便派吕布驻守虎牢关。袁绍派大军前去攻打，却被吕布连杀数将。张飞冲杀上去，连战五十回合。关羽见张飞不敌,前去助战，厮杀三十回合，仍不敌。刘备见状飞马斜刺过来，三人轮番厮杀使吕布难以招架，便朝刘备虚晃一戟，冲出包围圈，逃回虎牢关。' },
            { date: '194年', description: '杀吕伯奢', text: '曹操刺董卓不成，从洛阳逃到中牟，被县令陈宫捉住。陈宫义释曹操，与其来到成皋，投宿吕伯奢家中。吕家人磨刀欲杀猪款待，曹操怀疑他们要杀自己，竟将吕家八口杀害，随后路遇出门买酒的吕伯奢，趁其不备，挥剑杀之灭口，并声称"宁教我负天下人，休教天下人负我! "' },
            { date: '200年', description: '温酒斩华雄', text: '董卓战将华雄连斩诸侯联军二将,袁绍无措,关羽毛遂自荐,因官阶太小,袁术反对。曹操力荐,关羽立下军令状。曹操备热酒一杯，关羽却说待斩了华雄后再饮不迟。众诸侯听得关外喊声大举，不一会，关羽马到中军，提华雄之头，掷于地上。其酒尚温。' },
        ];

        // 确保文档加载完成后才执行JavaScript代码
        document.addEventListener('DOMContentLoaded', function() {
            var timeline = document.getElementById('timeline');
            for (var i = 0; i < events.length; i++) {
                var event = events[i];
                var item = document.createElement('div');
                item.classList.add('timeline-item');
                var content = document.createElement('div');
                content.classList.add('timeline-content');
                content.textContent = event.date + ': ' + event.description;
                item.appendChild(content);
                var textContent = document.createElement('div');
                textContent.classList.add('timeline-text');
                textContent.textContent = event.text;
                item.appendChild(textContent);
                timeline.appendChild(item);
            }

            // 添加点击事件监听器到每个时间线项
            var timelineItems = document.querySelectorAll('.timeline-item');
            timelineItems.forEach(function(item) {
                item.addEventListener('click', function() {
                    // 切换文本的显示状态
                    var textContent = this.querySelector('.timeline-text');
                    if (textContent) {
                        if (textContent.style.display === 'none') {
                            textContent.style.display = 'block';
                        } else {
                            textContent.style.display = 'none';
                        }
                    } else {
                        alert('您点击了事件，但此事件没有提供详细描述。');
                    }
                });
            });
        });
    </script>
</body>
</html>
